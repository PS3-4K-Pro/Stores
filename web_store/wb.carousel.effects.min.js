/* jQuery Carousel Effects Plugin for WYSIWYG Web Builder 17 - Copyright Pablo Software solutions 2022 - http://www.wysiwygwebbuilder.com */
(function(b){b.fn.carouseleffects=function(c){return this.each(function(){b.carouseleffects(this,c)})};b.carouseleffects=function(c,a){var d={mode:"none",duration:2E3,easing:"linear",scalemode:0,direction:"",delay:2E3,type:"sequence",pagination:!0,pagination_img_default:"",pagination_img_active:"",pause:"hover",current:1,last:0};if(a&&"string"==typeof a)if("next"==a)b.carouseleffects.killTimer(c),b.carouseleffects.nextFrame(c);else if("prev"==a)b.carouseleffects.killTimer(c),b.carouseleffects.prevFrame(c);
else if(-1!=a.indexOf("goto")){var e=a.slice(5);b.carouseleffects.gotoFrame(c,e)}else"stop"==a?(b.carouseleffects.killTimer(c),e=b(c).data("state"),e.delay=0):"start"==a&&(b.carouseleffects.killTimer(c),e=b(c).data("state"),0==e.delay&&(e.delay=e.delayEx),e.current==e.last&&b.carouseleffects.next(e),b.carouseleffects.frameTransition(c));else{a&&(e=b.extend(d,a));0==e.delay&&--e.current;e.delayEx=e.delay;e.paused=!1;e.original_width=b(c).parent().outerWidth();b.carouseleffects.init(c,e);if(a.pagination){$pagination=
b('<div class="pagination" />');d=b(c).find(".frame").get();for(var h=0;h<d.length;h++){var g=b("<a />").attr("id",String(h+1));""!=a.pagination_img_default&&b("<img />").attr({id:"page_"+String(h+1),src:a.pagination_img_default}).appendTo(g);g.click(function(){b.carouseleffects.gotoFrame(c,b(this).attr("id"))});g.appendTo($pagination)}$pagination.appendTo(b(c).parent());b.carouseleffects.updateNavigation(c,0,e.last)}if(1==e.scalemode||3==e.scalemode)b.carouseleffects.resize(c),b(window).resize(function(){b.carouseleffects.resize(c)});
"hover"!=e.pause||"ontouchstart"in document.documentElement||(b(c).on("mouseenter",function(){b.carouseleffects.killTimer(c);var f=b(c).data("state");f.delay=0;f.paused=!0}),b(c).on("mouseleave",function(){var f=b(c).data("state");f.paused&&(f.paused=!1,b.carouseleffects.killTimer(c),0==f.delay&&(f.delay=f.delayEx),f.current==f.last&&b.carouseleffects.next(f),b.carouseleffects.frameTransition(c))}))}};b.carouseleffects.init=function(c,a){a.frames=b(c).find(".frame").get();b.each(a.frames,function(e){b(a.frames[e]).css("zIndex",
a.frames.length-e).css("position","absolute").css("top","0").css("left","0")});a.random=!1;a.reverse=!1;"random"==a.mode&&(a.random=!0);"flip-x"!=a.effect&&"flip-y"!=a.effect||a.frames.css({"-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","-o-backface-visibility":"hidden","backface-visibility":"hidden"});b(c).data("state",a);if(0!=a.start){for(var d=0;d<a.frames.length;d++)b(a.frames[d]).css("display","none");a.current=a.start;b(a.frames[a.current]).css("zIndex","1").show();
0==a.delay?a.last=a.current:b.carouseleffects.next(a)}else b(c).trigger("beforeActivate",0),setTimeout(function(){b(c).trigger("activate",0)},10);0!=a.delay&&(d=setTimeout(function(){b.carouseleffects.frameTransition(c)},a.delay),b(c).data("timerId",d))};b.carouseleffects.killTimer=function(c){c=b(c).data("timerId");clearInterval(c)};b.carouseleffects.updateNavigation=function(c,a,d){var e=b(c).data("state");""!=e.pagination_img_default?(b(c).parent().find(".pagination img:eq("+a+")").attr("src",
e.pagination_img_default),b(c).parent().find(".pagination img:eq("+d+")").attr("src",e.pagination_img_active)):(b(c).parent().find(".pagination a:eq("+a+")").removeClass("active"),b(c).parent().find(".pagination a:eq("+d+")").addClass("active"))};b.carouseleffects.gotoFrame=function(c,a){b.carouseleffects.killTimer(c);var d=b(c).data("state");0!=d.delay&&(d.current--,0>d.current&&(d.current=d.frames.length-1));a-1!=d.current&&(0==d.delay&&(d.last=d.current),d.current=Math.min(a-1,d.frames.length-
1),d.delay=0,d.pagination&&b.carouseleffects.updateNavigation(c,d.last,d.current),b.carouseleffects.frameTransition(c),d.last=d.current)};b.carouseleffects.transformRotate=function(c,a,d){b(c).css({"-webkit-transform":"rotate"+a+"("+d+"deg)","-moz-transform":"rotate"+a+"("+d+"deg)","-ms-transform":"rotate"+a+"("+d+"deg)","-o-transform":"rotate"+a+"("+d+"deg)",transform:"rotate"+a+"("+d+"deg)"})};b.carouseleffects.nextFrame=function(c){state=b(c).data("state");0!=state.delay&&(state.current=state.last);
state.delay=0;b.carouseleffects.next(state);b.carouseleffects.frameTransition(c)};b.carouseleffects.prevFrame=function(c){state=b(c).data("state");0!=state.delay&&(state.current=state.last);state.delay=0;0<=state.current-1?(--state.current,state.last=state.current+1):(state.current=state.frames.length-1,state.last=0);b.carouseleffects.frameTransition(c)};b.carouseleffects.next=function(c){if("sequence"==c.type)c.current+1<c.frames.length?(c.current+=1,c.last=c.current-1):(c.current=0,c.last=c.frames.length-
1);else if("random"==c.type)for(c.last=c.current;c.current==c.last;)c.current=Math.floor(Math.random()*c.frames.length)};b.carouseleffects.frameTransition=function(c){var a=b(c).data("state"),d=a.current;if(a.random){var e="fade slide puff blind drop clip shuffle blast blocks rain swirl squares bars".split(" "),h=["left","up","down","right"],g=["horizontal","vertical"];a.mode=e[Math.floor(Math.random()*e.length)];if("slide"==a.mode||"drop"==a.mode)a.direction=h[Math.floor(Math.random()*h.length)];
if("clip"==a.mode||"blinds"==a.mode||"bars"==a.mode)a.direction=g[Math.floor(Math.random()*g.length)]}for(e=0;e<a.frames.length;e++)b(a.frames[e]).css("display","none");b(a.frames[a.last]).css("display","block").css("zIndex","0");a.pagination&&b.carouseleffects.updateNavigation(c,a.last,a.current);b(c).trigger("beforeActivate",d);if("none"==a.mode)b(a.frames[a.current]).css("zIndex","1").show(),b(a.frames[a.last]).css("display","none"),b(c).trigger("activate",d);else if("fade"==a.mode)b(a.frames[a.current]).css("zIndex",
"1").fadeIn(a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).fadeOut(a.duration);else if("slide"==a.mode)b(a.frames[a.current]).css("zIndex","1").show("slide",{direction:a.direction,easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).hide("slide",{direction:a.direction,easing:a.easing},a.duration);else if("puff"==a.mode)b(a.frames[a.current]).css("zIndex","1").show("puff",{easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),
b(a.frames[a.last]).hide("puff",{easing:a.easing},a.duration);else if("blind"==a.mode)b(a.frames[a.current]).css("zIndex","1").show("blind",{direction:a.direction,easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).hide("blind",{direction:a.direction,easing:a.easing},a.duration);else if("clip"==a.mode)b(a.frames[a.current]).css("zIndex","1").show("clip",{direction:a.direction,easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).hide("clip",
{direction:a.direction,easing:a.easing},a.duration);else if("drop"==a.mode)b(a.frames[a.current]).css("zIndex","1").show("drop",{direction:a.direction,easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).hide("drop",{direction:a.direction,easing:a.easing},a.duration);else if("fold"==a.mode)b(a.frames[a.current]).css("zIndex","1").show("fold",{easing:a.easing},a.duration,function(){b(c).trigger("activate",d)}),b(a.frames[a.last]).hide("fold",{easing:a.easing},a.duration);
else if("rotate"==a.mode)b(a.frames[a.last]).animate({rotate:180,scale:10,opacity:"hide"},{duration:a.duration,easing:a.easing}),b(a.frames[a.current]).css("zIndex","1"),b(a.frames[a.current]).css({scale:10,rotate:-180}),b(a.frames[a.current]).animate({opacity:"show",rotate:0,scale:1},{duration:a.duration,easing:a.easing,complete:function(){b(c).trigger("activate",d)}});else if("newspaper"==a.mode)b(a.frames[a.last]).animate({opacity:"hide"},{duration:a.duration,easing:a.easing}),b(a.frames[a.current]).css("zIndex",
"1"),b(a.frames[a.current]).css({scale:0,rotate:720}),b(a.frames[a.current]).animate({opacity:"show",rotate:0,scale:1},{duration:a.duration,easing:a.easing,complete:function(){b(c).trigger("activate",d)}});else if("css-animation"==a.mode){var f=b(c).attr("id")+"_ShowAnimation",n=b(c).attr("id")+"_HideAnimation";b(a.frames[a.last]).addClass(n);b(a.frames[a.last]).one("webkitAnimationEnd msAnimationEnd oAnimationEnd animationend",function(k){b(this).removeClass(n);b(this).css("visibility","hidden")});
b(a.frames[a.current]).css("display","block").addClass(f).css("visibility","visible").show();b(a.frames[a.current]).one("webkitAnimationEnd msAnimationEnd oAnimationEnd animationend",function(k){b(this).removeClass(f)});b(c).trigger("activate",d)}else if("flip-x"==a.mode||"flip-y"==a.mode){d=a.last;var l=a.current,m="flip-x"==a.mode?"X":"Y";b.carouseleffects.transformRotate(a.frames[l],m,-90);b(a.frames[l]).css({display:"block","background-position":"-90px"});b(a.frames[d]).css("background-position",
"0px");b(a.frames[d]).animate({backgroundPosition:90},{step:function(k){b.carouseleffects.transformRotate(a.frames[d],m,k)},duration:a.duration/2,easing:a.easing,complete:function(){b(a.frames[l]).animate({backgroundPosition:0},{step:function(k){b.carouseleffects.transformRotate(a.frames[l],m,k)},duration:a.duration/2,easing:a.easing})}})}else b(a.frames[a.current]).css("zIndex","1").show(a.mode,{},a.duration,function(){b(c).trigger("activate",d)});0!=a.delay&&(b.carouseleffects.next(a),e=setTimeout(function(){b.carouseleffects.frameTransition(c)},
a.delay),b(c).data("timerId",e))};b.carouseleffects.resize=function(c){var a=0;a="undefined"!=typeof window.innerWidth?window.innerWidth:"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?document.documentElement.clientWidth:document.getElementsByTagName("body")[0].clientWidth;b(c).parent().css("width","100%");b(c).parent().css("left","0");var d=b(c).data("state");b(c).find(".frame").each(function(e){b(this).css({width:a+
"px"});var h=(a-d.original_width)/2;3==d.scalemode?(d.original_width=b(this).find(".carousel-innerframe").outerWidth(),h=(a-d.original_width)/2,b(this).find(".carousel-innerframe").css({"margin-left":h+"px"})):b(this).children().each(function(){var g=b(this).data("left");void 0!=g?g=parseInt(g):(g=parseInt(b(this).css("left")),b(this).data("left",g+"px"));b(this).css("left",g+h+"px")})})}})(jQuery);